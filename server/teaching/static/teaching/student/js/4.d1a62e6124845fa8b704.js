webpackJsonp([4],{"2I10":function(t,e,n){"use strict";var s=n("Gu7T"),a=n.n(s),o=n("BRoD"),c=n("qpNt"),i=n("H9my"),r=n("kA2o"),l={name:"HomeworkPanelComponent",props:["homeworkPanel"],data:function(){return{score:this.homeworkPanel.score,url:"",count:0}},created:function(){this.refreshStatus()},methods:{showStage:function(t){c.a.stage=t,r.a.push("student-stage")},gotoPage:function(t){var e=gameUrl+"?";e+="gcid="+t.gcid+"&",e+="uid="+o.a.uid+"&",e+="token="+o.a.token+"&",e+="sid="+o.a.upid+"&",e+="student="+o.a.uid,window.open(e,"game")},refreshStatus:function(){var t=this;this.count=0;var e=[].concat(a()(this.score));e.forEach(function(n,s){i.a.send({url:"GameStageIsFinished",data:{gcid:n.gcid,student:o.a.uid}}).success(function(s){n.finish=s,t.count+=1,t.score=[].concat(a()(e))}).fail(function(t){console.log(t)}),i.a.send({url:"GameStageIsUnlock",data:{gcid:n.gcid,student:o.a.uid}}).success(function(s){n.unlock=s,t.score=[].concat(a()(e))}).fail(function(t){console.log(t)})})}},watch:{count:function(t){this.$emit("REFRESH_SCHEDULE_EVENT",t)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"homework-panel"},[n("div",{staticClass:"panel-header"},[n("div",{staticClass:"panel-title"},[t._v(t._s(t.homeworkPanel.title))]),t._v(" "),n("button",{staticClass:"panel-refresh",on:{click:t.refreshStatus}},[t._v("刷新")])]),t._v(" "),n("table",[t._m(0),t._v(" "),n("tbody",{staticClass:"border-1"},t._l(t.score,function(e,s){return n("tr",{key:s},[n("td",[t._v(t._s(e.detail.chapter))]),t._v(" "),n("td",[n("button",{staticClass:"detail-btn color-white",class:{"bg-grey":!e.unlock},attrs:{disabled:!e.unlock},on:{click:function(n){t.gotoPage(e)}}},[t._v(t._s(e.unlock?"跳转":"已锁"))])]),t._v(" "),n("th",[t._v(t._s(e.finish?"已完成":"未完成"))]),t._v(" "),n("td",[n("button",{staticClass:"detail-btn color-white",class:{"bg-grey":!e.unlock},attrs:{disabled:!e.unlock},on:{click:function(n){t.showStage(e)}}},[n("div",[t._v(t._s(e.unlock?"查看":"已锁"))])])])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("标题")]),this._v(" "),e("th",[this._v("游戏")]),this._v(" "),e("th",[this._v("通关")]),this._v(" "),e("th",[this._v("详情")])])}]};var d=n("VU/8")(l,u,!1,function(t){n("gzw1")},"data-v-20ed1207",null);e.a=d.exports},gzw1:function(t,e){},n4ru:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("BRoD"),a=n("qpNt"),o=n("H9my"),c=n("2I10"),i=n("6r+G"),r={name:"ExampleComponent",data:function(){return{comment:"",homeworkPanel:[],schedule:100,max:0}},components:{HomeworkPanelComponent:c.a,ScheduleComponent:i.a},created:function(){s.a.logout(),this.getScoreList()},methods:{getScoreList:function(){var t=this;o.a.send({url:"ExampleScoreList",data:{lid:a.a.example.lid,student:s.a.uid}}).success(function(e){t.homeworkPanel=t.formatData(e),t.max=e.length}).fail(function(t){})},formatData:function(t){var e=[],n={title:"酷町猫",score:[]};return t.forEach(function(t){n.score.push(t)}),e.push(n),console.log(e),e},refreshSchedule:function(t){this.schedule=100*t/this.max}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"example"},[n("div",{staticClass:"detail-statistics"},[n("div",{staticClass:"statistics-tip"},[t._v("教学案例完成度")]),t._v(" "),n("div",{staticClass:"statistics-schedule"},[n("ScheduleComponent",{attrs:{schedule:t.schedule}})],1)]),t._v(" "),n("div",{staticClass:"detail-content"},t._l(t.homeworkPanel,function(e,s){return n("HomeworkPanelComponent",{key:s,attrs:{homeworkPanel:e},on:{REFRESH_SCHEDULE_EVENT:t.refreshSchedule}})}),1)])},staticRenderFns:[]};var u=n("VU/8")(r,l,!1,function(t){n("sSi6")},"data-v-6de924da",null);e.default=u.exports},sSi6:function(t,e){}});